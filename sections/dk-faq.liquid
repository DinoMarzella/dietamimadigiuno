<section class=" max-w-[1400px] mx-auto p-4 md:p-20  ">
    <div id="content-wrapper">
      <h1 class="text-[25px] md:py-0 py-[20px] md:text-[35px] font-light text-center" >{{ section.settings.heading }}</h1>
        <dl class="mt-4 md:mt-20 max-w-[1200px] mx-auto ">
            {% for block in section.blocks %}
            <div class=" parent-of-question qa-wrapper">
                <dl>
                    <dt class="question">
                        <button type="button"
                            class="flex items-start justify-between w-full px-3 py-[2rem] text-left text-gray-900 toggle-faq"
                            aria-controls="faq-1" aria-expanded="false">
                            <span class="text-[16px] font-semibold leading-7">{{ block.settings.question }}</span>
                            <span class="flex gap-2 ">
                                <span class="flex gap-2 minus-icon" aria-hidden="true"> Chiudi <span> <img
                                            src="https://cdn.shopify.com/s/files/1/0508/0625/9870/files/Vector_3.png?v=1724930184" alt="Arrow up"
                                            class="mt-[9px] w-[15px] "></span></span>
                                <span class="flex hidden gap-2 plus-icon" aria-hidden="true"> Apri  <span> <img
                                            src="https://cdn.shopify.com/s/files/1/0508/0625/9870/files/Vector_2.png?v=1724930184" alt="Arrow up"
                                            class="mt-[9px] w-[15px] "></span></span>

                            </span>
                        </button>
                    </dt>
                    <div class="block w-full h-[1px] bg-gray-400" >
                        
                    </div>

                    <dd class="p-4 faq-answer">
                        {% comment %} <h2 class="text-[20px] md:text-[30px] font-base leading-7">{{ block.settings.headingtext }}</h2> {% endcomment %}
                        <div class="">
                            {{ block.settings.content }}
                            
                        </div>
                    </dd>
                </dl>
            </div>
            {% endfor %}

        </dl>

    </div>
</section>

{% schema %}
{
"name": "dk faqs",
"tag": "section",
"disabled_on": {
"groups": ["header", "footer"]
},
"settings": [

  {
"type": "text",
"id": "heading",
"label": "Heading",
"default": "Prolon 5-Day (Fasting Mimicking Diet) Program"
  }

],
"blocks": [
{
"type": "questions_block",
"name": "_list_block",
"settings": [
{
"type": "text",
"label": "Type Question",
"id": "question"
},
{
"type": "text",
"label": "Type heading text",
"id": "headingtext"

},
{
"type": "html",
"label": "Type first text",
"id": "content"
},
{
"type": "text",
"label": "Type text",
"id": "text"
}
]
}
],
"presets": [
{
"name": "dk faqs"
}
]
}
{% endschema %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
   $(document).ready(function () {
        // Initially open the first FAQ and close others
        $('.qa-wrapper').first().addClass('open').find('.faq-answer').show();
        $('.qa-wrapper').not(':first').find('.faq-answer').hide();
        $('.qa-wrapper').not(':first').find('.plus-icon').removeClass('hidden');
        $('.qa-wrapper').not(':first').find('.minus-icon').addClass('hidden');

        $('.toggle-faq').on('click', function () {
            var isExpanded = $(this).attr('aria-expanded') === 'true';

            // Close all other FAQs
            $('.qa-wrapper').not($(this).closest('.qa-wrapper')).removeClass('open').find('.faq-answer').slideUp();
            $('.qa-wrapper').not($(this).closest('.qa-wrapper')).find('.plus-icon').removeClass('hidden');
            $('.qa-wrapper').not($(this).closest('.qa-wrapper')).find('.minus-icon').addClass('hidden');

            // Toggle the clicked FAQ
            $(this).attr('aria-expanded', !isExpanded);
            $(this).closest('.qa-wrapper').toggleClass('open').find('.faq-answer').slideToggle();
            $(this).find('.plus-icon').toggleClass('hidden');
            $(this).find('.minus-icon').toggleClass('hidden');
        });
    });

</script>