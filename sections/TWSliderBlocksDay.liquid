<style type="text/tailwindcss">
  .single-nav-slide {
    @apply px-5 md:px-0 text-sm md:text-xl whitespace-nowrap;
  }

  .single-nav-slide.s-active {
    font-weight: bold;
  }
</style>
{% assign data = section.settings %}
<!-- TWSliderBlocksDay Haider -->
<div class="w-full py-12 bg-white font-avenir">
  <div class="w-full px-4 mx-auto max-w-screen-2xl sm:px-6 lg:px-8">
    <div class="text-center">
      <p class="my-2 font-normal  text-base tracking-tight md:text-3xl md:leading-10 text-darkGunMetal sm:text-5xl  max-w-[600px] mx-auto">
        {{ data.title }}
      </p>
    </div>
    <div class="flex flex-col mt-10 md:flex-row md:mt-12">
      <div class="w-full mb-5 md:px-2 md:w-1/3 md:mb-0">
        <div class="w-full pt-8 rounded-lg md:pt-10 bg-[#F4F7F1] h-full flex flex-col items-center md:pb-10">
          <p class="px-2 py-1 pb-2 w-full max-w-[250px] text-dinamoRegular flex justify-center items-center uppercase border-solid border-black border-b-[1px] md:mb-5 tracking-widest">
            Prolon
          </p>
          <div class="flex items-start justify-center w-full px-2 md:px-0">
            <div class="flex flex-row flex-wrap items-center justify-between w-full md:justify-start md:items-center md:flex-col">
              <ul class="w-full flex mt-5 flex-row md:flex-col justify-center items-center leading-10 text-xl cursor-pointer text-[#73984A] prolon-points-slider-1 font-avant ">
                <li data-s-index="1" class="single-nav-slide slide-1 mb-3 hover:text-[#476327] s-active">Day 1</li>
                <li data-s-index="2" class="single-nav-slide slide-2 mb-3 hover:text-[#476327]">Day 2</li>
                <li data-s-index="3" class="single-nav-slide slide-3 mb-3 hover:text-[#476327]">Day 3</li>
                <li data-s-index="4" class="single-nav-slide slide-4 mb-3 hover:text-[#476327]">Day 4</li>
                <li data-s-index="5" class="single-nav-slide slide-5 mb-3 hover:text-[#476327]">Day 5</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="w-full md:w-2/3 block prolon-points-slider-2 overflow-hidden md:max-h-[423px]">
        {% for block in section.blocks %}
          <div class="w-full single-point-slide">
            <div class=" md:min-h-[423px] flex flex-col md:grid gap-2 grid-cols-1 md:grid-cols-2 items-center justify-center h-full md:flex-row w-ful block-{{forloop.index}}">
              <div class="w-full px-2 mb-5 md:mb-0 bg-[#F4F7F1] h-full rounded-lg mr-2 min-h-[400px]">
                <div class="flex flex-col items-center justify-center w-full h-full px-5 pt-8 rounded-lg md:pb-10 md:pt-10 ">
                  <p class="px-2 py-1 pb-2 w-full max-w-[250px] text-dinamoRegular flex justify-center items-center uppercase border-solid border-black border-b-[1px] mb-5 tracking-widest">
                    Daily Journey
                  </p>
                  <div class="relative text-center md:pt-8">
                    <div class="absolute top-0 z-0 hidden w-px h-full md:block md:-mt-1 md:w-full md:h-px">
                      <img
                        class="max-w-[250px] mx-auto"
                        src="https://cdn.shopify.com/s/files/1/0126/2921/3243/files/wave.png?v=1666691271"
                      >
                    </div>
                    <h1 class="text-3xl text-[#73984A] mb-10 relative z-10">{{ block.settings.main_title }}</h1>
                    <div class="relative z-10 flex items-center justify-center">
                      <svg
                        width="1px"
                        height="54px"
                        viewBox="0 0 1 64"
                        version="1.1"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                      >
                        <title>Line 2</title>
                        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square">
                            <g id="Desktop--About--The-Science" transform="translate(-1025.000000, -1456.000000)" stroke="#000000">
                                <g id="Day-1" transform="translate(117.000000, 886.000000)">
                                    <g id="Day-1" transform="translate(0.000000, 278.000000)">
                                        <line x1="908.5" y1="292.5" x2="908.5" y2="355.5" id="Line-2"></line>
                                    </g>
                                </g>
                            </g>
                        </g>
                      </svg>
                    </div>
                    <p class="relative z-10 p-4 mt-5 text-base text-center text-dinamoRegular">
                      {{ block.settings.details }}
                    </p>
                  </div>
                </div>
              </div>
              <div class="w-full px-2  h-full bg-[#F4F7F1] rounded-lg min-h-[350px] hidden md:flex">
                <div class="w-full  rounded-lg bg-[#F4F7F1] h-full  flex justify-center flex-col items-center ">
                  <div class="relative text-center">
                    <img
                      loading="lazy"
                      class="w-full md:max-w-[370px]"
                      src="{{block.settings.main_img | img_url: '700x'}}"
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Slider Blocks Day TW",
  "settings": [
    {
      "type": "textarea",
      "id": "title",
      "label": "Title",
      "default": "Our 5-day nutrition program is the only program patented for promoting rejuvenation from within for healthy aging."
    }
  ],
  "blocks": [
    {
      "type": "blockset",
      "name": "Day",
      "settings": [
        {
          "type": "text",
          "id": "main_title",
          "label": "Title",
          "default": "transforming to a fasting state"
        },
        {
          "type": "liquid",
          "id": "details",
          "label": "Details",
          "default": "The body transitions into a fasting state & fat-burning mode so it can begin cellular clean-up."
        },
        {
          "type": "image_picker",
          "id": "main_img",
          "label": "Image"
        }
      ]
    }
  ]
}
{% endschema %}

<script>
  $(document).ready(function () {
    $('.prolon-points-slider-1').slick({
      asNavFor: '.prolon-points-slider-2',
      dots: false,
      infinite: true,
      centerMode: false,
      speed: 500,
      slidesToScroll: 1,
      slidesToShow: 2,
      arrows: true,
      mobileFirst: true,

      responsive: [
        {
          breakpoint: 768,
          settings: 'unslick',
        },
      ],
      autoplay: false,
      autoplaySpeed: 10000,
      centerPadding: '0px',
      focusOnSelect: true,
      vertical: false,
      variableWidth: true,
    });

    $('.prolon-points-slider-2').slick({
      infinite: true,
      sliderToShow: 1,
      arrows: false,
      autoplay: false,
      asNavFor: '.prolon-points-slider-1',

      responsive: [
        {
          breakpoint: '767',
          settings: {
            infinite: true,
          },
        },
      ],
    });

    $('.prolon-points-slider-2').on('beforeChange', function (event, slick, currentSlide, nextSlide) {
      $('.single-nav-slide').removeClass('s-active');
      $(`.single-nav-slide.slide-${nextSlide + 1}`).addClass('s-active');
      //console.log({ nextSlide });
    });

    $(document).on('click', '.single-nav-slide', function () {
      var slideIndex = $(this).data('s-index');
      // $('.prolon-points-slider-1').slick('slickGoTo', slideIndex);
      $('.prolon-points-slider-2').slick('slickGoTo', slideIndex - 1);
    });
  });
</script>
