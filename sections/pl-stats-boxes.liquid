{%- assign data = section.settings -%}

<div
  id="{{data.data_id}}"
  class="pl-wrapper w-full py-[20px] md:py-[40px] lg:px-[40px] pl-wrapper-stats-boxes"
  style="background-color: {{data.bg_color}}"
>
  <div class="max-w-[1600px] mx-auto px-[20px] md:px-0">
    {%- if data.title -%}
      <div 
        class="my-[20px] text-[24px] md:text-4xl leading-tight font-normal max-w-[1000px] mx-auto text-center hero__animation-contents delay-300">{{data.title}}</div>
    {%- endif -%}
    {%- if data.description -%} 
      <p class="my-[20px] text-[16px] md:text-[18px] text-black font-normal hero__animation-contents !delay-500">{{data.description}}</p>
    {%- endif -%}
    {% assign stat_blocks = section.blocks | where: 'type', 'stats' %}
    {%- if stat_blocks.size > 0 -%}
      <div class="flex flex-wrap justify-center text-center gap-[20px] md:gap-[50px] max-w-[1600px] mx-auto">
        {%- for stat in stat_blocks -%}
            <div style="transition-delay: {{forloop.index | times: 0.4}}s" class="w-full md:w-[30%] px-[20px] border-b-[2px] md:border- 4px] border-[#73994a] flex justify-start items-center pb-[20px] flex-col hero__animation-contents">
              <p
                class="w-full text-left text-[18px] md:text-[22px] font-normal pt-[10px] md:pt-[20px] text-[#73994a]"
              >{{stat.settings.title}}</p>
              <p
                class="w-full text-left text-[18px] md:text-[2.2vw] 2xl:text-[37px] font-normal  py-[5px] md:py-[5px]"
              >{{stat.settings.description}}</p>
            </div>
        {%- endfor -%}
      </div>
    {%- endif -%}

    {% assign products_blocks = section.blocks | where: 'type', 'products' %}
    {%- if products_blocks.size > 0 -%}
      <div class="py-[20px] flex justify-center items-start flex-col md:flex-row px-[0px] md:px-[0px]">
        <div class="flex flex-col w-full md:w-1/3 md:p-4">
            <a href="/products/{{products_blocks[0].settings.handle}}"
              class="flex items-center py-[20px] w-full hero__animation-contents "
              style="transition-delay: {{foorloop.index | times: 0.4}}s"
            >
              <div class="w-[70px] h-[70px] mr-4 cursor-pointer">
                <img
                  src="{{products_blocks[0].settings.image | img_url: '140x'}}"
                  alt="{{products_blocks[0].settings.title}}"
                  width="70"
                  height="70"
                  loading="lazy"
                />
              </div>
              <div>
                <p class="font-bold">{{products_blocks[0].settings.title}}</p>
                <p>{{products_blocks[0].settings.description}}</p>
              </div>
            </a>
          <div class="pt-[10px] hidden md:block">
            <img
              class="max-h-[300px] object-cover w-full"
              src="{{data.image | img_url: '500x'}}"
              alt='{{data.title}}'
              width="501"
              height="300"
              loading="lazy"
            />
          </div>
        </div>
        {%- assign next4Products = products_blocks | slice: 1, 4 -%}
        {%- if next4Products.size > 0-%}
          <div class="flex flex-col w-full md:w-1/3 md:p-4">

          {%- for pro in next4Products -%}
            <a href="/products/{{pro.settings.handle}}"
              style="transition-delay: {{foorloop.index | times: 0.4}}s"
              class="flex items-center py-[20px] w-full hero__animation-contents "
            >
              <div class="w-[70px] h-[70px] mr-4  cursor-pointer">
                <img
                  src="{{pro.settings.image | img_url: '140x'}}"
                  alt="{{pro.settings.title}}"
                  height="70"
                  width="70"
                  loading="lazy"
                />
              </div>
              <div>
                <p class="font-bold">{{pro.settings.title}}</p>
                <p>{{pro.settings.description}}</p>
              </div>
            </a>
          {%- endfor -%}
        </div>
        {%- endif -%}
        
        {%- assign next3Products = products_blocks | slice: 5, 7 -%}
        {%- if next3Products.size > 0-%}
          <div class="flex flex-col w-full md:w-1/3 md:p-4">

          {%- for pro in next3Products -%}
            <a href="/products/{{pro.settings.handle}}"
              style="transition-delay: {{foorloop.index | times: 0.4}}s"
              class="flex items-center py-[20px] w-full hero__animation-contents "
            >
              <div class="w-[70px] h-[70px] mr-4  cursor-pointer">
                <img
                  src="{{pro.settings.image | img_url: '140x'}}"
                  alt="{{pro.settings.title}}"
                  width="70"
                  height="70"
                  loading="lazy"
                />
              </div>
              <div>
                <p class="font-bold">{{pro.settings.title}}</p>
                <p>{{pro.settings.description}}</p>
              </div>
            </a>
          {%- endfor -%}
        </div>
        {%- endif -%}
        <div class="pt-[20px] block md:hidden w-full">
          <img
            class="max-h-[300px] object-cover w-full"
            src="{{data.image | img_url: '800x'}}"
            alt='{{data.title}}'
        />
        </div>
      </div> 
    {%- endif -%}
  </div>
</div>


<script>
  $(document).ready(function () {
    addClassInViewSequentially('pl-wrapper-stats-boxes');
  });
</script>

{% schema %}
{
  "name": "PL Stats Boxes",
  "settings": [
    {
      "type": "text",
      "id": "data_id",
      "label": "Section ID",
      "default": "the-research"
    },
    {
      "type": "textarea",
      "id": "title",
      "label": "Title",
      "default": "How ProLon keeps you <b>younger than your age?</b>"
    },
    {
      "type": "text",
      "id": "bg_color",
      "label": "BG Color",
      "default": "#F8F9FB"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "<b>Uncovering The Longevity Diet</b> <span class='text-[32px] md:text-[42px]'>started over 23 years ago with Dr. Valter Longo....</span>"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    }
  ],
  "blocks": [
    {
      "type": "stats",
      "name": "stats",
      "settings": [
        {
          "type": "textarea",
          "id": "title",
          "label": "Title",
          "default": "REJUVENATE & RESET"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Awakening the process of <b>cellular rejuvenation</b> and <b>biological age reversal</b>"
        }
      ]
    },
    {
      "type": "products",
      "name": "products",
      "settings": [
        {
          "type": "textarea",
          "id": "title",
          "label": "Title",
          "default": "REJUVENATE & RESET"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Awakening the process of <b>cellular rejuvenation</b> and <b>biological age reversal</b>"
        },
        {
        "type": "text",
        "id": "handle",
        "label": "Handle"
        
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "PL Stats  Boxes",
      "blocks": [
        {
          "type": "stats",
          "settings": {
            "title": "REJUVENATE & RESET",
            "description":
              "Awakens the process of <span class='font-semibold'>cellular rejuvenation</span> and <span class='font-semibold'>biological age reversal</span>"
          }
        },
        {
          "type": "stats",
          "settings": {
            "title": "SLOW DOWN AGING",
            "description":
              "<span class='font-semibold'>Mitigates</span> food-induced spikes in <span class='font-semibold'>aging factors</span> such as insulin & IGF1"
          }
        },
        {
          "type": "stats",
          "settings": {
            "title": "AGE GRACEFULLY",
            "description":
              " Nutraceutical ingredients to promote healthy <span class='font-semibold'>cellular aging</span>"
          }
        },
        {
          "type": "products",
          "settings": {
            "title": "ProLon Program",
            "description": "5-days to cellular rejuvenation"
          }
        },
        {
          "type": "products",
          "settings": {
            "title": "ReSet 1-Day Kit",
            "description": "24 HOUR MIND & BODY RESET"
          }
        },
        {
          "type": "products",
          "settings": {
            "title": "Fasting Shake",
            "description": "Nutrition technology shake"
          }
        },
        {
          "type": "products",
          "settings": {
            "title": "Fasting Bar",
            "description": "Nutrition to fast for longer"
          }
        },
        {
          "type": "products",
          "settings": {
            "title": "L-Spread",
            "description": "Apulian almond & cocoa spread"
          }
        },
        {
          "type": "products",
          "settings": {
            "title": "L-Pill Supplement",
            "description": "Support healthy aging"
          }
        },
        {
          "type": "products",
          "settings": {
            "title": "L-Biome Supplement",
            "description": "Coming soon"
          }
        }
        
      ],
      "category": "Advanced layout"
    }
  ]
}
{% endschema %}
